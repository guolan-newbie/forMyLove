<html>
<head>
<meta charset="utf-8">
<h4>测试脚本，请勿关闭本页面！！隐藏</h4>
</head>
</html>
<iframe src="" width="1300" height="800" id="myframe" style="display: none;"></iframe> 
<script type="text/javascript">
	var urls=new Array(
		"https://blog.csdn.net/SIMPLE1995/article/details/90604528",
		"https://blog.csdn.net/SIMPLE1995/article/details/90320131",
		"https://blog.csdn.net/SIMPLE1995/article/details/90296955",
		"https://blog.csdn.net/SIMPLE1995/article/details/90296019",
		"https://blog.csdn.net/SIMPLE1995/article/details/89508449",
		"https://blog.csdn.net/SIMPLE1995/article/details/89487029",
		"https://blog.csdn.net/SIMPLE1995/article/details/89486573",
		"https://blog.csdn.net/SIMPLE1995/article/details/89446038",
		"https://blog.csdn.net/SIMPLE1995/article/details/89355923",
		"https://blog.csdn.net/SIMPLE1995/article/details/89355923",
		"https://blog.csdn.net/SIMPLE1995/article/details/88384779",
		"https://blog.csdn.net/SIMPLE1995/article/details/88384140",
		"https://blog.csdn.net/SIMPLE1995/article/details/88383831",
		"https://blog.csdn.net/SIMPLE1995/article/details/86668301",
		"https://blog.csdn.net/SIMPLE1995/article/details/86620105",
		"https://blog.csdn.net/SIMPLE1995/article/details/86609276",
		"https://blog.csdn.net/SIMPLE1995/article/details/86571231",
		"https://blog.csdn.net/SIMPLE1995/article/details/86219230",
		"https://blog.csdn.net/SIMPLE1995/article/details/86234891",
		"https://blog.csdn.net/SIMPLE1995/article/details/86286829",
		"https://blog.csdn.net/SIMPLE1995/article/details/86286958",
		"https://blog.csdn.net/SIMPLE1995/article/details/86488374",
		"https://blog.csdn.net/SIMPLE1995/article/details/86514704",
		"https://blog.csdn.net/SIMPLE1995/article/details/86515108",
		"https://blog.csdn.net/SIMPLE1995/article/details/86519273",
		"https://blog.csdn.net/SIMPLE1995/article/details/86519865",
		"https://blog.csdn.net/SIMPLE1995/article/details/79196047",
		"https://blog.csdn.net/SIMPLE1995/article/details/79195912",
		"https://blog.csdn.net/SIMPLE1995/article/details/56837147",
		"https://blog.csdn.net/SIMPLE1995/article/details/56497227",
		"https://blog.csdn.net/SIMPLE1995/article/details/86552172",
		"https://blog.csdn.net/SIMPLE1995/article/details/86552366",
		"https://blog.csdn.net/SIMPLE1995/article/details/86552474");
	
/*旧版本代码 导致运行时间过长时，产生占用cpu过高
var i = 0;	
setInterval(function(){ 
if(i<urls.length){	
	document.getElementById("myframe").src=urls[i++]; 
	//console.log( i+"  :   "+document.getElementById("myframe").src);
}else{
	i=0;
}		
},5000);
*/

/**
* 不停的每隔5秒钟调用一下自己。在一般的运用中，用户访问含有这样代码的页是没感觉出它*有什么问题。但是如果用户在这样的页里需要停留的时间很长，就会用问题。因为setTimeout*会不停的“吐食”CPU，慢慢的CPU最终会被这样的代码吃光，造成IE死掉，或停止执行。
* 解决的办法，在下次调用之前先用clearTimeout清除一下
*/
	
var i = 0;
var TimeCounter="";	
function PollConn(){
	var el = document.getElementById('myframe'),
                    iframe = el.contentWindow;
                if (el) {
                    el.src = 'about:blank';
                    try {
                        iframe.document.write('');//清空iframe的内容
                        iframe.document.clear();
						iframe.close();//避免iframe内存泄漏
                    } catch (e) { };
                    //以上可以清除大部分的内存和文档节点记录数了 
                }

	if(TimeCounter!=null && TimeCounter!="") {		
		clearTimeout(TimeCounter);  //清除settimeout函数产生的內存消耗.
	}
	
	if(i<urls.length){
		//"?timestamp=" + new Date().getTime();  url加时间戳 清楚缓存
		var frameElement=document.getElementById("myframe");	
		frameElement.src=urls[i++]+"?timestamp=" + new Date().getTime();
		//console.log(frameElement.src);
	}else{
		i=0;
	}
	//递归 保证循环执行
	TimeCounter=window.setTimeout('PollConn();',5000); 
} 
PollConn();
</script>
